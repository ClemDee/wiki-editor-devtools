<!doctype html>
<html>
  <head>
    <title>CodeMirror 2: HTML mixed mode</title>
    <link rel="stylesheet" href="../../lib/codemirror.css">
    <script src="../../lib/codemirror.js"></script>
    <script src="../xml/xml.js"></script>
    <script src="../velocity/velocity.js"></script>
    <script src="../javascript/javascript.js"></script>
    <script src="../css/css.js"></script>
    <link rel="stylesheet" href="../../theme/default.css">
    <script src="../xwikitags/xwikitags.js"></script>
    <script src="xwiki.js"></script>
    <link rel="stylesheet" href="../../css/docs.css">
    <style>.CodeMirror {border-top: 1px solid black; border-bottom: 1px solid black;}</style>
  </head>
  <body>
    <form><textarea id="code" name="code" style="width:100%;height:100%">
{{html}}
<script>
  window.onload = function(){
    alert('a');
  }
</script>
<style>
  a#code{
    background  : red;
  }
</style>
<tag>
  aaaa<b style="color:red">www</b>
</tag>
{{/html}}

{{velocity key="value" key='value'}}
## COMMENT
<tag />
#*
  TEST
*#
#if($tdoc.getLocked() && "$!request.get('force')" == '')
  #template("startpage.vm")
  <div class="main layoutsubsection">
   <div id="mainContentArea">
    $response.setStatus(423)
    #set($newquerystring = "$!{request.getQueryString().replaceAll('&', '&amp;').replaceAll('&amp;amp;', '&amp;')}"
  $aaa
  $aaa-bbb
  $a-b_cd
  $a021
  ${ab}
  $!aaab
{{/velocity}}

ala bala not a fucking tag

{{groovy}}
  var c = d;
{{/groovy}}
</textarea></form>
    <script>
      var editor = CodeMirror.fromTextArea(document.getElementById("code"), {mode: "xwiki", tabMode: "indent"});
    </script>

    <p>The HTML mixed mode depends on the XML, JavaScript, and CSS modes.</p>

    <p><strong>MIME types defined:</strong> <code>text/html</code>
    (redefined, only takes effect if you load this parser after the
    XML parser).</p>

  </body>
</html>
